<!doctype html>
<html lang="en" dir="ltr" class="plugin-moonwave plugin-id-moonwave">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">RankStore | RankStore</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://123marble.github.io/RankStore/api/RankStore"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="RankStore | RankStore"><link data-rh="true" rel="canonical" href="https://123marble.github.io/RankStore/api/RankStore"><link data-rh="true" rel="alternate" href="https://123marble.github.io/RankStore/api/RankStore" hreflang="en"><link data-rh="true" rel="alternate" href="https://123marble.github.io/RankStore/api/RankStore" hreflang="x-default"><link rel="stylesheet" href="/RankStore/assets/css/styles.19a5646f.css">
<link rel="preload" href="/RankStore/assets/js/runtime~main.8a72d228.js" as="script">
<link rel="preload" href="/RankStore/assets/js/main.f3adf768.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/RankStore/"><b class="navbar__title text--truncate">RankStore</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/RankStore/api/">API</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/123marble/RankStore" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docPageContainer_wNNk"><div class="docPage_Dpn1"><div class="docSidebarContainer_o_re"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/RankStore/api/RankStore">​Rank​Store</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/RankStore/api/Util">​Util</a></li></ul></nav></div></div><main class="docMainContainer_HJE1"><div class="container padding-vert--lg"><div class="row"><div class="col docItemCol_MU3C"><div class="docItemContainer_Wv98"><article><div class="member_J0w1 markdown"><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_oUs_"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><header><h1 class="docTitle_mZRt" style="text-decoration:none"><span style="display:inline-block">Rank</span><span style="display:inline-block">Store</span></h1><div class="luaClassTags_EipM"></div><div></div></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="types">Types<a href="#types" class="hash-link" aria-label="Direct link to Types" title="Direct link to Types">​</a></h2><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="entry"><code style="text-decoration:none">entry</code><a href="#entry" class="hash-link" aria-label="Direct link to entry" title="Direct link to entry">​</a></h3><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/123marble/RankStore/blob/main/src/RankStore/init.lua#L19"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code class="purple_ieR2">type</code> <code>entry<!-- --> = </code> <code class="purple_ieR2">{</code><div class="inset_uKQm"><code>id<!-- -->: </code><code class="blue_P4bS">string</code><code class="purple_ieR2">,</code></div><div class="inset_uKQm"><code>rank<!-- -->: </code><code class="blue_P4bS">number</code><code class="purple_ieR2">,</code></div><div class="inset_uKQm"><code>score<!-- -->: </code><code class="blue_P4bS">number</code></div><code class="purple_ieR2">}</code></div><div>
<p>An array of strings, a number, or nil.</p>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="setResult"><code style="text-decoration:none">setResult</code><a href="#setResult" class="hash-link" aria-label="Direct link to setResult" title="Direct link to setResult">​</a></h3><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/123marble/RankStore/blob/main/src/RankStore/init.lua#L28"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code class="purple_ieR2">type</code> <code>setResult<!-- --> = </code> <code class="purple_ieR2">{</code><div class="inset_uKQm"><code>prevRank<!-- -->: </code><code class="blue_P4bS">number</code><code class="purple_ieR2">,</code></div><div class="inset_uKQm"><code>prevScore<!-- -->: </code><code class="blue_P4bS">number</code><code class="purple_ieR2">,</code></div><div class="inset_uKQm"><code>newRank<!-- -->: </code><code class="blue_P4bS">number</code><code class="purple_ieR2">,</code></div><div class="inset_uKQm"><code>newScore<!-- -->: </code><code class="blue_P4bS">number</code></div><code class="purple_ieR2">}</code></div><div>
<p>An array of strings, a number, or nil.</p>
</div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="functions">Functions<a href="#functions" class="hash-link" aria-label="Direct link to Functions" title="Direct link to Functions">​</a></h2><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="GetRankStore"><code style="text-decoration:none">GetRankStore</code><a href="#GetRankStore" class="hash-link" aria-label="Direct link to GetRankStore" title="Direct link to GetRankStore">​</a></h3><span class="badge_Ba2I" style="color:#f1c40f"><span class="badgeTooltip_cWXP">This is a yielding function. When called, it will pause the Lua thread that called the function until a result is ready to be returned, without interrupting other scripts.</span><span class="badgeToolTipTail_H9D_"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" fill="#f1c40f" role="img" aria-label="This is a yielding function. When called, it will pause the Lua thread that called the function until a result is ready to be returned, without interrupting other scripts."><path d="M96.4 11.9c-1.4-2.5-4-4-6.9-4H10.8c-2.9 0-5.4 1.5-6.9 4-1.4 2.5-1.4 5.5 0 7.9L43.3 88c1.4 2.5 4 4 6.9 4 2.9 0 5.4-1.5 6.9-4l39.3-68.2c1.4-2.4 1.4-5.4 0-7.9zM46.3 54.5c1.1-1.1 2.3-1.6 3.8-1.6s2.8.5 3.8 1.6c1.1 1.1 1.6 2.3 1.6 3.8s-.5 2.8-1.6 3.8c-1.1 1.1-2.3 1.6-3.8 1.6s-2.8-.5-3.8-1.6c-1.1-1.1-1.6-2.3-1.6-3.8.1-1.5.6-2.8 1.6-3.8zm-.5-4.9V21.8h8.8v27.8h-8.8z"></path></svg> <!-- -->Yields</span></span><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/123marble/RankStore/blob/main/src/RankStore/init.lua#L56"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>RankStore<!-- -->.</code><code class="green_DgR4">GetRankStore</code><code>(</code><div class="inset_uKQm"><div><code>name<!-- -->: </code><code class="blue_P4bS">string</code><code>,</code><span class="inlineDescription_G7Er">-- <span>
<p>Name of the RankStore</p>
</span></span></div><div><code>numBuckets<!-- -->: </code><code class="blue_P4bS">number?</code><code>,</code><span class="inlineDescription_G7Er">-- <span>
<p>The number of buckets to use</p>
</span></span></div><div><code>maxBucketSize<!-- -->: </code><code class="blue_P4bS">number?</code><code>,</code><span class="inlineDescription_G7Er">-- <span>
<p>Maximum number of entries in each bucket</p>
</span></span></div><div><code>lazySaveTime<!-- -->: </code><code class="blue_P4bS">number?</code><code>,</code><span class="inlineDescription_G7Er">-- <span>
<p>Time in seconds to wait before saving the data to the DataStore.</p>
</span></span></div><div><code>parallel<!-- -->: </code><code class="blue_P4bS">boolean?</code><code>,</code><span class="inlineDescription_G7Er">-- <span>
<p>Whether to save the data in parallel</p>
</span></span></div><div><code>dataStructure<!-- -->: </code><code class="blue_P4bS">dataStructure?</code><code>,</code><span class="inlineDescription_G7Er">-- <span>
<p>The data structure to use. "table", "string" or "avl". Default is "table".</p>
</span></span></div><div><code>compression<!-- -->: </code><code class="blue_P4bS">compression?</code><code>,</code><span class="inlineDescription_G7Er">-- <span>
<p>The compression algorithm to use. "base91" or "none". Default is "base91".</p>
</span></span></div><div><code>ascending<!-- -->: </code><code class="blue_P4bS">boolean?</code><span class="inlineDescription_G7Er">-- <span>
<p>Whether the leaderboard should be sorted in ascending order. Default is false (descending order).</p>
</span></span></div></div><code>) → </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/RankStore/api/RankStore">RankStore</a></code></div><div>
<p>
  Creates or retrieves a Rank Store with the provided name.
  Default is 60 seconds. -1 disables lazy saving but be advised that
  this significantly increases the number of DataStore writes.
  For use cases requiring a mixture of read/write operations, <code>avl</code> is best because insertion into an AVL tree is O(log N). For read only use cases, <code>string</code> is best because only the
  entries that are read are decompressed. In comparison to the other data structures, these will decompress the entire
  leaderboard when fetching from the DataStore. Conversely, string is terrible for leaderboard insertions because each insertion copies the entire leaderboard in memory, which is O(N).
</p>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="SetScoreAsync"><code style="text-decoration:none">SetScoreAsync</code><a href="#SetScoreAsync" class="hash-link" aria-label="Direct link to SetScoreAsync" title="Direct link to SetScoreAsync">​</a></h3><span class="badge_Ba2I" style="color:#f1c40f"><span class="badgeTooltip_cWXP">This is a yielding function. When called, it will pause the Lua thread that called the function until a result is ready to be returned, without interrupting other scripts.</span><span class="badgeToolTipTail_H9D_"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" fill="#f1c40f" role="img" aria-label="This is a yielding function. When called, it will pause the Lua thread that called the function until a result is ready to be returned, without interrupting other scripts."><path d="M96.4 11.9c-1.4-2.5-4-4-6.9-4H10.8c-2.9 0-5.4 1.5-6.9 4-1.4 2.5-1.4 5.5 0 7.9L43.3 88c1.4 2.5 4 4 6.9 4 2.9 0 5.4-1.5 6.9-4l39.3-68.2c1.4-2.4 1.4-5.4 0-7.9zM46.3 54.5c1.1-1.1 2.3-1.6 3.8-1.6s2.8.5 3.8 1.6c1.1 1.1 1.6 2.3 1.6 3.8s-.5 2.8-1.6 3.8c-1.1 1.1-2.3 1.6-3.8 1.6s-2.8-.5-3.8-1.6c-1.1-1.1-1.6-2.3-1.6-3.8.1-1.5.6-2.8 1.6-3.8zm-.5-4.9V21.8h8.8v27.8h-8.8z"></path></svg> <!-- -->Yields</span></span><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/123marble/RankStore/blob/main/src/RankStore/init.lua#L92"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>RankStore<!-- -->:</code><code class="green_DgR4">SetScoreAsync</code><code>(</code><div class="inset_uKQm"><div><code>id<!-- -->: </code><code class="blue_P4bS">number</code><code>,</code><span class="inlineDescription_G7Er">-- <span>
<p>The id of the entry. A number to uniquely identify the entry, typically a userId.</p>
</span></span></div><div><code>score<!-- -->: </code><code class="blue_P4bS">number</code><span class="inlineDescription_G7Er">-- <span>
<p>The score to set</p>
</span></span></div></div><code>) → </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/RankStore/api/RankStore#setResult">setResult</a></code></div><div>
<p>Sets the score for the given id.</p>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="GetEntryAsync"><code style="text-decoration:none">GetEntryAsync</code><a href="#GetEntryAsync" class="hash-link" aria-label="Direct link to GetEntryAsync" title="Direct link to GetEntryAsync">​</a></h3><span class="badge_Ba2I" style="color:#f1c40f"><span class="badgeTooltip_cWXP">This is a yielding function. When called, it will pause the Lua thread that called the function until a result is ready to be returned, without interrupting other scripts.</span><span class="badgeToolTipTail_H9D_"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" fill="#f1c40f" role="img" aria-label="This is a yielding function. When called, it will pause the Lua thread that called the function until a result is ready to be returned, without interrupting other scripts."><path d="M96.4 11.9c-1.4-2.5-4-4-6.9-4H10.8c-2.9 0-5.4 1.5-6.9 4-1.4 2.5-1.4 5.5 0 7.9L43.3 88c1.4 2.5 4 4 6.9 4 2.9 0 5.4-1.5 6.9-4l39.3-68.2c1.4-2.4 1.4-5.4 0-7.9zM46.3 54.5c1.1-1.1 2.3-1.6 3.8-1.6s2.8.5 3.8 1.6c1.1 1.1 1.6 2.3 1.6 3.8s-.5 2.8-1.6 3.8c-1.1 1.1-2.3 1.6-3.8 1.6s-2.8-.5-3.8-1.6c-1.1-1.1-1.6-2.3-1.6-3.8.1-1.5.6-2.8 1.6-3.8zm-.5-4.9V21.8h8.8v27.8h-8.8z"></path></svg> <!-- -->Yields</span></span><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/123marble/RankStore/blob/main/src/RankStore/init.lua#L105"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>RankStore<!-- -->:</code><code class="green_DgR4">GetEntryAsync</code><code>(</code><div class="inset_uKQm"><div><code>id<!-- -->: </code><code class="blue_P4bS">number</code><span class="inlineDescription_G7Er">-- <span>
<p>The id of the entry.</p>
</span></span></div></div><code>) → </code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/RankStore/api/RankStore#entry">entry</a></code></div><div>
<p>Gets the entry for the given id.</p>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="GetTopScoresAsync"><code style="text-decoration:none">GetTopScoresAsync</code><a href="#GetTopScoresAsync" class="hash-link" aria-label="Direct link to GetTopScoresAsync" title="Direct link to GetTopScoresAsync">​</a></h3><span class="badge_Ba2I" style="color:#f1c40f"><span class="badgeTooltip_cWXP">This is a yielding function. When called, it will pause the Lua thread that called the function until a result is ready to be returned, without interrupting other scripts.</span><span class="badgeToolTipTail_H9D_"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" fill="#f1c40f" role="img" aria-label="This is a yielding function. When called, it will pause the Lua thread that called the function until a result is ready to be returned, without interrupting other scripts."><path d="M96.4 11.9c-1.4-2.5-4-4-6.9-4H10.8c-2.9 0-5.4 1.5-6.9 4-1.4 2.5-1.4 5.5 0 7.9L43.3 88c1.4 2.5 4 4 6.9 4 2.9 0 5.4-1.5 6.9-4l39.3-68.2c1.4-2.4 1.4-5.4 0-7.9zM46.3 54.5c1.1-1.1 2.3-1.6 3.8-1.6s2.8.5 3.8 1.6c1.1 1.1 1.6 2.3 1.6 3.8s-.5 2.8-1.6 3.8c-1.1 1.1-2.3 1.6-3.8 1.6s-2.8-.5-3.8-1.6c-1.1-1.1-1.6-2.3-1.6-3.8.1-1.5.6-2.8 1.6-3.8zm-.5-4.9V21.8h8.8v27.8h-8.8z"></path></svg> <!-- -->Yields</span></span><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/123marble/RankStore/blob/main/src/RankStore/init.lua#L135"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>RankStore<!-- -->:</code><code class="green_DgR4">GetTopScoresAsync</code><code>(</code><div class="inset_uKQm"><div><code>n<!-- -->: </code><code class="blue_P4bS">number</code><span class="inlineDescription_G7Er">-- <span>
<p>The number of scores to get</p>
</span></span></div></div><code>) → </code><code class="purple_ieR2">{</code><code class="blue_P4bS"><a style="text-decoration:underline;color:inherit" href="/RankStore/api/RankStore#entry">entry</a></code><code class="purple_ieR2">}</code></div><div>
<p>Gets the top n scores.</p>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="UpdateNumBucketsAsync"><code style="text-decoration:none">UpdateNumBucketsAsync</code><a href="#UpdateNumBucketsAsync" class="hash-link" aria-label="Direct link to UpdateNumBucketsAsync" title="Direct link to UpdateNumBucketsAsync">​</a></h3><span class="badge_Ba2I" style="color:#f1c40f"><span class="badgeTooltip_cWXP">This is a yielding function. When called, it will pause the Lua thread that called the function until a result is ready to be returned, without interrupting other scripts.</span><span class="badgeToolTipTail_H9D_"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" fill="#f1c40f" role="img" aria-label="This is a yielding function. When called, it will pause the Lua thread that called the function until a result is ready to be returned, without interrupting other scripts."><path d="M96.4 11.9c-1.4-2.5-4-4-6.9-4H10.8c-2.9 0-5.4 1.5-6.9 4-1.4 2.5-1.4 5.5 0 7.9L43.3 88c1.4 2.5 4 4 6.9 4 2.9 0 5.4-1.5 6.9-4l39.3-68.2c1.4-2.4 1.4-5.4 0-7.9zM46.3 54.5c1.1-1.1 2.3-1.6 3.8-1.6s2.8.5 3.8 1.6c1.1 1.1 1.6 2.3 1.6 3.8s-.5 2.8-1.6 3.8c-1.1 1.1-2.3 1.6-3.8 1.6s-2.8-.5-3.8-1.6c-1.1-1.1-1.6-2.3-1.6-3.8.1-1.5.6-2.8 1.6-3.8zm-.5-4.9V21.8h8.8v27.8h-8.8z"></path></svg> <!-- -->Yields</span></span><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/123marble/RankStore/blob/main/src/RankStore/init.lua#L151"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>RankStore<!-- -->:</code><code class="green_DgR4">UpdateNumBucketsAsync</code><code>(</code><div class="inset_uKQm"><div><code>n<!-- -->: </code><code class="blue_P4bS">number</code><span class="inlineDescription_G7Er">-- <span>
<p>The number of buckets to update to. This should be greater than the current number of buckets.</p>
</span></span></div></div><code>) → </code><code>(</code><code>)</code></div><div>
<p>
  Increase the number of buckets used. This method can be used once the existing buckets are full to allow
  for more entries to be added.
</p>
<div class="admonition admonition-info alert alert--info">
  <div class="admonition-heading">
    <h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16">
          <path d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path>
        </svg></span>In order to minimise query time, the existing entires are distributed equally among the new buckets. This operation</h5>
  </div>
  <div class="admonition-content">
    <p>reads your entire RankStore and writes it into the new buckets. This is a costly operation if you RankStore is large.:::</p>
  </div>
</div>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="FlushBuffer"><code style="text-decoration:none">FlushBuffer</code><a href="#FlushBuffer" class="hash-link" aria-label="Direct link to FlushBuffer" title="Direct link to FlushBuffer">​</a></h3><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/123marble/RankStore/blob/main/src/RankStore/init.lua#L158"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>RankStore<!-- -->:</code><code class="green_DgR4">FlushBuffer</code><code>(</code><code>) → </code><code>(</code><code>)</code></div><div>
<p>Manually flush the buffer to force a write to the DataStore. Use <code>lazySaveTime</code> to automatically flush the buffer at regular intervals.</p>
</div><div class="divider_rE5g"></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ClearAsync"><code style="text-decoration:none">ClearAsync</code><a href="#ClearAsync" class="hash-link" aria-label="Direct link to ClearAsync" title="Direct link to ClearAsync">​</a></h3><span class="badge_Ba2I" style="color:#f1c40f"><span class="badgeTooltip_cWXP">This is a yielding function. When called, it will pause the Lua thread that called the function until a result is ready to be returned, without interrupting other scripts.</span><span class="badgeToolTipTail_H9D_"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" fill="#f1c40f" role="img" aria-label="This is a yielding function. When called, it will pause the Lua thread that called the function until a result is ready to be returned, without interrupting other scripts."><path d="M96.4 11.9c-1.4-2.5-4-4-6.9-4H10.8c-2.9 0-5.4 1.5-6.9 4-1.4 2.5-1.4 5.5 0 7.9L43.3 88c1.4 2.5 4 4 6.9 4 2.9 0 5.4-1.5 6.9-4l39.3-68.2c1.4-2.4 1.4-5.4 0-7.9zM46.3 54.5c1.1-1.1 2.3-1.6 3.8-1.6s2.8.5 3.8 1.6c1.1 1.1 1.6 2.3 1.6 3.8s-.5 2.8-1.6 3.8c-1.1 1.1-2.3 1.6-3.8 1.6s-2.8-.5-3.8-1.6c-1.1-1.1-1.6-2.3-1.6-3.8.1-1.5.6-2.8 1.6-3.8zm-.5-4.9V21.8h8.8v27.8h-8.8z"></path></svg> <!-- -->Yields</span></span><div class="repositoryDetailsContainer_BPdw"><a class="sourceButton_sEho" href="https://github.com/123marble/RankStore/blob/main/src/RankStore/init.lua#L169"><div class="sourceButtonText_Vh0m">&lt;/&gt;</div></a></div><div class="memberString_GwaU"><code>RankStore<!-- -->:</code><code class="green_DgR4">ClearAsync</code><code>(</code><code>) → </code><code>(</code><code>)</code></div><div>
<p>Clears all entries in the RankStore.</p>
<p>
  This actually just increments the keys used in the underlying DataStore so no data is actually deleted. However there is
  no support to rollback after calling this function at present.
</p>
</div></div></article></div><details><summary>Show raw api</summary><pre style="max-width:100%;white-space:pre-wrap">{
    &quot;functions&quot;: [
        {
            &quot;name&quot;: &quot;GetRankStore&quot;,
            &quot;desc&quot;: &quot;Creates or retrieves a Rank Store with the provided name.\n                        Default is 60 seconds. -1 disables lazy saving but be advised that\n                        this significantly increases the number of DataStore writes.\nFor use cases requiring a mixture of read/write operations, `avl` is best because insertion into an AVL tree is O(log N). For read only use cases, `string` is best because only the\nentries that are read are decompressed. In comparison to the other data structures, these will decompress the entire\nleaderboard when fetching from the DataStore. Conversely, string is terrible for leaderboard insertions because each insertion copies the entire leaderboard in memory, which is O(N).&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;name&quot;,
                    &quot;desc&quot;: &quot;Name of the RankStore&quot;,
                    &quot;lua_type&quot;: &quot;string&quot;
                },
                {
                    &quot;name&quot;: &quot;numBuckets&quot;,
                    &quot;desc&quot;: &quot;The number of buckets to use&quot;,
                    &quot;lua_type&quot;: &quot;number?&quot;
                },
                {
                    &quot;name&quot;: &quot;maxBucketSize&quot;,
                    &quot;desc&quot;: &quot;Maximum number of entries in each bucket&quot;,
                    &quot;lua_type&quot;: &quot;number?&quot;
                },
                {
                    &quot;name&quot;: &quot;lazySaveTime&quot;,
                    &quot;desc&quot;: &quot;Time in seconds to wait before saving the data to the DataStore.&quot;,
                    &quot;lua_type&quot;: &quot;number?&quot;
                },
                {
                    &quot;name&quot;: &quot;parallel&quot;,
                    &quot;desc&quot;: &quot;Whether to save the data in parallel&quot;,
                    &quot;lua_type&quot;: &quot;boolean?&quot;
                },
                {
                    &quot;name&quot;: &quot;dataStructure&quot;,
                    &quot;desc&quot;: &quot;The data structure to use. \&quot;table\&quot;, \&quot;string\&quot; or \&quot;avl\&quot;. Default is \&quot;table\&quot;.&quot;,
                    &quot;lua_type&quot;: &quot;dataStructure?&quot;
                },
                {
                    &quot;name&quot;: &quot;compression&quot;,
                    &quot;desc&quot;: &quot;The compression algorithm to use. \&quot;base91\&quot; or \&quot;none\&quot;. Default is \&quot;base91\&quot;.&quot;,
                    &quot;lua_type&quot;: &quot;compression?&quot;
                },
                {
                    &quot;name&quot;: &quot;ascending&quot;,
                    &quot;desc&quot;: &quot;Whether the leaderboard should be sorted in ascending order. Default is false (descending order).&quot;,
                    &quot;lua_type&quot;: &quot;boolean?\n&quot;
                }
            ],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;RankStore&quot;
                }
            ],
            &quot;function_type&quot;: &quot;static&quot;,
            &quot;yields&quot;: true,
            &quot;source&quot;: {
                &quot;line&quot;: 56,
                &quot;path&quot;: &quot;src/RankStore/init.lua&quot;
            }
        },
        {
            &quot;name&quot;: &quot;SetScoreAsync&quot;,
            &quot;desc&quot;: &quot;Sets the score for the given id.&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;id&quot;,
                    &quot;desc&quot;: &quot;The id of the entry. A number to uniquely identify the entry, typically a userId.&quot;,
                    &quot;lua_type&quot;: &quot;number&quot;
                },
                {
                    &quot;name&quot;: &quot;score&quot;,
                    &quot;desc&quot;: &quot;The score to set&quot;,
                    &quot;lua_type&quot;: &quot;number&quot;
                }
            ],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;setResult\n&quot;
                }
            ],
            &quot;function_type&quot;: &quot;method&quot;,
            &quot;yields&quot;: true,
            &quot;source&quot;: {
                &quot;line&quot;: 92,
                &quot;path&quot;: &quot;src/RankStore/init.lua&quot;
            }
        },
        {
            &quot;name&quot;: &quot;GetEntryAsync&quot;,
            &quot;desc&quot;: &quot;Gets the entry for the given id.&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;id&quot;,
                    &quot;desc&quot;: &quot;The id of the entry.&quot;,
                    &quot;lua_type&quot;: &quot;number&quot;
                }
            ],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;entry\n&quot;
                }
            ],
            &quot;function_type&quot;: &quot;method&quot;,
            &quot;yields&quot;: true,
            &quot;source&quot;: {
                &quot;line&quot;: 105,
                &quot;path&quot;: &quot;src/RankStore/init.lua&quot;
            }
        },
        {
            &quot;name&quot;: &quot;GetTopScoresAsync&quot;,
            &quot;desc&quot;: &quot;Gets the top n scores.&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;n&quot;,
                    &quot;desc&quot;: &quot;The number of scores to get&quot;,
                    &quot;lua_type&quot;: &quot;number&quot;
                }
            ],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;{entry}&quot;
                }
            ],
            &quot;function_type&quot;: &quot;method&quot;,
            &quot;yields&quot;: true,
            &quot;source&quot;: {
                &quot;line&quot;: 135,
                &quot;path&quot;: &quot;src/RankStore/init.lua&quot;
            }
        },
        {
            &quot;name&quot;: &quot;UpdateNumBucketsAsync&quot;,
            &quot;desc&quot;: &quot;Increase the number of buckets used. This method can be used once the existing buckets are full to allow\nfor more entries to be added.\n:::info In order to minimise query time, the existing entires are distributed equally among the new buckets. This operation\nreads your entire RankStore and writes it into the new buckets. This is a costly operation if you RankStore is large.:::&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;n&quot;,
                    &quot;desc&quot;: &quot;The number of buckets to update to. This should be greater than the current number of buckets.&quot;,
                    &quot;lua_type&quot;: &quot;number&quot;
                }
            ],
            &quot;returns&quot;: [],
            &quot;function_type&quot;: &quot;method&quot;,
            &quot;yields&quot;: true,
            &quot;source&quot;: {
                &quot;line&quot;: 151,
                &quot;path&quot;: &quot;src/RankStore/init.lua&quot;
            }
        },
        {
            &quot;name&quot;: &quot;FlushBuffer&quot;,
            &quot;desc&quot;: &quot;Manually flush the buffer to force a write to the DataStore. Use `lazySaveTime` to automatically flush the buffer at regular intervals.&quot;,
            &quot;params&quot;: [],
            &quot;returns&quot;: [],
            &quot;function_type&quot;: &quot;method&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 158,
                &quot;path&quot;: &quot;src/RankStore/init.lua&quot;
            }
        },
        {
            &quot;name&quot;: &quot;ClearAsync&quot;,
            &quot;desc&quot;: &quot;Clears all entries in the RankStore.\n\nThis actually just increments the keys used in the underlying DataStore so no data is actually deleted. However there is \nno support to rollback after calling this function at present.&quot;,
            &quot;params&quot;: [],
            &quot;returns&quot;: [],
            &quot;function_type&quot;: &quot;method&quot;,
            &quot;yields&quot;: true,
            &quot;source&quot;: {
                &quot;line&quot;: 169,
                &quot;path&quot;: &quot;src/RankStore/init.lua&quot;
            }
        }
    ],
    &quot;properties&quot;: [],
    &quot;types&quot;: [
        {
            &quot;name&quot;: &quot;entry&quot;,
            &quot;desc&quot;: &quot;An array of strings, a number, or nil.&quot;,
            &quot;lua_type&quot;: &quot;{id: string, rank: number, score: number}&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 19,
                &quot;path&quot;: &quot;src/RankStore/init.lua&quot;
            }
        },
        {
            &quot;name&quot;: &quot;setResult&quot;,
            &quot;desc&quot;: &quot;An array of strings, a number, or nil.&quot;,
            &quot;lua_type&quot;: &quot;{prevRank: number, prevScore: number, newRank: number, newScore: number}&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 28,
                &quot;path&quot;: &quot;src/RankStore/init.lua&quot;
            }
        }
    ],
    &quot;name&quot;: &quot;RankStore&quot;,
    &quot;desc&quot;: &quot;&quot;,
    &quot;source&quot;: {
        &quot;line&quot;: 8,
        &quot;path&quot;: &quot;src/RankStore/init.lua&quot;
    }
}</pre></details></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#types" class="table-of-contents__link toc-highlight">Types</a><ul><li><a href="#entry" class="table-of-contents__link toc-highlight">entry</a></li><li><a href="#setResult" class="table-of-contents__link toc-highlight">setResult</a></li></ul></li><li><a href="#properties" class="table-of-contents__link toc-highlight">Properties</a></li><li><a href="#functions" class="table-of-contents__link toc-highlight">Functions</a><ul><li><a href="#ClearAsync" class="table-of-contents__link toc-highlight">:ClearAsync</a></li><li><a href="#FlushBuffer" class="table-of-contents__link toc-highlight">:FlushBuffer</a></li><li><a href="#GetEntryAsync" class="table-of-contents__link toc-highlight">:GetEntryAsync</a></li><li><a href="#GetTopScoresAsync" class="table-of-contents__link toc-highlight">:GetTopScoresAsync</a></li><li><a href="#SetScoreAsync" class="table-of-contents__link toc-highlight">:SetScoreAsync</a></li><li><a href="#UpdateNumBucketsAsync" class="table-of-contents__link toc-highlight">:UpdateNumBucketsAsync</a></li><li><a href="#GetRankStore" class="table-of-contents__link toc-highlight">.GetRankStore</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2021 AuthorName. Built with Moonwave and Docusaurus</div></div></div></footer></div>
<script src="/RankStore/assets/js/runtime~main.8a72d228.js"></script>
<script src="/RankStore/assets/js/main.f3adf768.js"></script>
</body>
</html>